#+title: Main Program
#+author:

#+startup: overview indent hideblocks entitiespretty
#+property: header-args:sh :results output
#+property: header-args:cpp :noeval :noweb yes
#+setupfile: https://fniessen.github.io/org-html-themes/org/theme-bigblow.setup

* Notes
- Notes go here...

* Convenience Scripts
#+name: sh_example
#+begin_src sh :results silent
echo "Example Shell Script..."
#+end_src

* ~Foo Implementation

NOTE: Include whatever is needed to make foo work...

#+name: _implementation
#+begin_src cpp :main no :mkdirp yes :tangle src/foo.cpp :comments noweb
// include header itself...
#include "foo.hpp"

// any other dependencies needed for this "module's" code...
#include <iostream>
#include <string>

namespace foo
{
  //Example bar function
  void bar() {
    std::string helloWorld { "Hello World" };
    std::cout << helloWorld << '\n';
  }

} // end namespace foo
#+end_src
* ~Foo Header

NOTE: Includes in a header should only include what's necessary to define the functions exposed therein.

#+name: _header
#+begin_src cpp :main no :mkdirp yes :tangle src/foo.hpp :comments noweb
#pragma once

namespace foo
{
  // declare the function
  void bar();
} // end header
#+end_src
* Main
[[file:Makefile][GOTO: Makefile]]
[[file:src/main.cpp][GOTO: main.cpp]]

#+name: main
#+begin_src cpp :eval true :mkdirp yes :tangle src/main.cpp :results output :comments noweb
#include <iostream>
#include "foo.hpp"

 // begin main
int main()
{

  foo::bar();

  // exit successfully
  return 0;

} // end main
#+end_src

#+RESULTS: main

* Run
#+name: sh_run_main
#+begin_src sh :results output
./main
#+end_src

#+RESULTS: sh_run_main
